/var/log/nginx/*.log {
    # 每天轮转
    daily
    # 保留最近 3 个文件
    rotate 3
    # 单个文件最大 50MB
    size 50M
    # 如果日志文件不存在，不报错
    missingok
    # 不压缩旧日志（如需压缩，改为 compress）
    nocompress
    # 延迟压缩（如果启用压缩）
    delaycompress
    # 不在日志为空时轮转
    notifempty
    # 轮转后的文件权限
    create 0640 nginx nginx
    # 轮转后重新打开日志文件
    sharedscripts
    postrotate
        # 向 Nginx 发送 USR1 信号，重新打开日志文件
        if [ -f /var/run/nginx.pid ]; then
            kill -USR1 `cat /var/run/nginx.pid`
        fi
    endscript
}
